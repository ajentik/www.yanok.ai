<!DOCTYPE html>
<html lang="{{ site.lang | default: "en-US" }}">
  <head>{% include head.html %}
    <script defer src="https://www.yno.ai/widget.js"></script>
  </head>
  
  <body class="font-jost antialiased text-white bg-gradient-to-br from-darkerBlue to-darkBlue flex">
    <script type="module" src="{{ "/assets/javascript/cookieconsent-config.js" | relative_url }}"></script>
    
    {% include navigation.html %}
    
    <div id="content-wrapper" class="flex-grow transition-all duration-300 ml-0 md:ml-64">
      <div class="flex flex-col items-center min-h-screen gap-5">
        <div class="grow w-full pl-[8%]">{{ content }}</div>
        <div class="site-gutter w-full max-w-container">{% include footer.html %}</div>
      </div>
    </div>

    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const sidebar = document.getElementById('sidebar');
        const contentWrapper = document.getElementById('content-wrapper');
        const sidebarToggle = document.getElementById('sidebar-toggle');
        const sidebarCollapse = document.getElementById('sidebar-collapse');
        const submenus = document.querySelectorAll('.submenu-toggle');

        function toggleSidebar() {
          sidebar.classList.toggle('-translate-x-full');
          contentWrapper.classList.toggle('ml-0');
          contentWrapper.classList.toggle('md:ml-64');
        }

        function collapseSidebar() {
          sidebar.classList.toggle('w-64');
          sidebar.classList.toggle('w-20');
          contentWrapper.classList.toggle('md:ml-64');
          contentWrapper.classList.toggle('md:ml-20');
          document.querySelectorAll('.submenu, .navigation-link').forEach(el => el.classList.toggle('hidden'));
        }

        sidebarToggle.addEventListener('click', toggleSidebar);
        sidebarCollapse.addEventListener('click', collapseSidebar);

        submenus.forEach(toggle => {
          toggle.addEventListener('click', () => {
            const submenu = toggle.closest('.group').querySelector('.submenu');
            submenu.classList.toggle('hidden');
          });
        });

        // Handle window resize
        window.addEventListener('resize', () => {
          if (window.innerWidth >= 768) {
            sidebar.classList.remove('-translate-x-full');
            contentWrapper.classList.remove('ml-0');
            contentWrapper.classList.add('md:ml-64');
          } else {
            sidebar.classList.add('-translate-x-full');
            contentWrapper.classList.add('ml-0');
            contentWrapper.classList.remove('md:ml-64');
          }
        });
      });
    </script>
  </body>
</html>
